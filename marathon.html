<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åŠé©¬4å‘¨è®­ç»ƒè®¡åˆ’</title>
  <style>
    body {
      font-family: "Helvetica", sans-serif;
      padding: 20px;
      line-height: 1.6;
      background: #f8f9fa;
      color: #333;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      max-width:1170px;
      margin: 0 auto;
      border-collapse: collapse;
      margin-top: 1em;
      background: #fff;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #007bff;
      color: white;
    }
    tr:nth-child(even) {
      background-color: #f1f1f1;
    }
    tr.done {
      background-color: #27d38b;
    }
    tr.last {
      background-color: #dd88ff;
    }
    .core {
      background-color: #ffc107;
      font-weight: bold;
    }
    .longrun {
      background-color: #28a745;
      color: white;
      font-weight: bold;
    }
    .race {
      background-color: #dc3545;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>åŠé©¬è®­ç»ƒè®¡åˆ’ï¼ˆ4å‘¨ï¼‰</h1>

<table>
  <thead>
    <tr>
      <th>æ—¥æœŸ</th>
      <th>æ˜ŸæœŸ</th>
      <th>è®­ç»ƒå†…å®¹</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>5æœˆ1æ—¥</td><td>æ˜ŸæœŸå››</td><td>é—´æ­‡è·‘ï¼š1km çƒ­èº« + 400m å¿«è·‘ + 400m æ…¢è·‘ Ã—4ç»„ + 1km æ”¾æ¾</td></tr>
    <tr><td>5æœˆ2æ—¥</td><td>æ˜ŸæœŸäº”</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ3æ—¥</td><td>æ˜ŸæœŸå…­</td><td class="longrun">é•¿è·ç¦»ï¼š10km æ…¢è·‘</td></tr>
    <tr><td>5æœˆ4æ—¥</td><td>æ˜ŸæœŸæ—¥</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ5æ—¥</td><td>æ˜ŸæœŸä¸€</td><td>èŠ‚å¥è·‘ï¼š6km é…é€Ÿ 8'50"/km</td></tr>
    <tr><td>5æœˆ6æ—¥</td><td>æ˜ŸæœŸäºŒ</td><td class="core">æ ¸å¿ƒè®­ç»ƒï¼šå¹³æ¿æ”¯æ’‘ã€ä¿„ç½—æ–¯è½¬ä½“ã€ç™»å±±è·‘ Ã—3ç»„</td></tr>
    <tr><td>5æœˆ7æ—¥</td><td>æ˜ŸæœŸä¸‰</td><td>æ…¢è·‘ï¼š5km æ”¾æ¾</td></tr>
    <tr><td>5æœˆ8æ—¥</td><td>æ˜ŸæœŸå››</td><td>é—´æ­‡è·‘ï¼š1km çƒ­èº« + 800m å¿«è·‘ + 400m æ…¢è·‘ Ã—3ç»„ + 1km æ”¾æ¾</td></tr>
    <tr><td>5æœˆ9æ—¥</td><td>æ˜ŸæœŸäº”</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ10æ—¥</td><td>æ˜ŸæœŸå…­</td><td class="longrun">é•¿è·ç¦»ï¼š12~14km è·‘èµ°ç»“åˆ</td></tr>
    <tr><td>5æœˆ11æ—¥</td><td>æ˜ŸæœŸæ—¥</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ12æ—¥</td><td>æ˜ŸæœŸä¸€</td><td>èŠ‚å¥è·‘ï¼š7km é…é€Ÿ 8'45"/km</td></tr>
    <tr><td>5æœˆ13æ—¥</td><td>æ˜ŸæœŸäºŒ</td><td class="core">æ ¸å¿ƒè®­ç»ƒï¼šå¹³æ¿æ”¯æ’‘ã€ä¿„ç½—æ–¯è½¬ä½“ã€ç™»å±±è·‘ Ã—3ç»„</td></tr>
    <tr><td>5æœˆ14æ—¥</td><td>æ˜ŸæœŸä¸‰</td><td>æ…¢è·‘ï¼š6km</td></tr>
    <tr><td>5æœˆ15æ—¥</td><td>æ˜ŸæœŸå››</td><td>é—´æ­‡è·‘ï¼š400m å¿«è·‘ + 400m æ…¢è·‘ Ã—5ç»„</td></tr>
    <tr><td>5æœˆ16æ—¥</td><td>æ˜ŸæœŸäº”</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ17æ—¥</td><td>æ˜ŸæœŸå…­</td><td class="longrun">é•¿è·ç¦»ï¼š16~18km æ¨¡æ‹Ÿè¡¥ç»™</td></tr>
    <tr><td>5æœˆ18æ—¥</td><td>æ˜ŸæœŸæ—¥</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ19æ—¥</td><td>æ˜ŸæœŸä¸€</td><td>èŠ‚å¥è·‘ï¼š8km é…é€Ÿ 8'50"/km</td></tr>
    <tr><td>5æœˆ20æ—¥</td><td>æ˜ŸæœŸäºŒ</td><td class="core">æ ¸å¿ƒè®­ç»ƒï¼šå¹³æ¿æ”¯æ’‘ã€ä¿„ç½—æ–¯è½¬ä½“ã€ç™»å±±è·‘ Ã—3ç»„</td></tr>
    <tr><td>5æœˆ21æ—¥</td><td>æ˜ŸæœŸä¸‰</td><td>æ…¢è·‘ï¼š6km</td></tr>
    <tr><td>5æœˆ22æ—¥</td><td>æ˜ŸæœŸå››</td><td>é—´æ­‡è·‘ï¼š400m å¿«è·‘ + 400m æ…¢è·‘ Ã—5ç»„</td></tr>
    <tr><td>5æœˆ23æ—¥</td><td>æ˜ŸæœŸäº”</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ24æ—¥</td><td>æ˜ŸæœŸå…­</td><td class="longrun">é•¿è·ç¦»ï¼š18~20km æ¨¡æ‹Ÿè¡¥ç»™</td></tr>
    <tr><td>5æœˆ25æ—¥</td><td>æ˜ŸæœŸæ—¥</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ26æ—¥</td><td>æ˜ŸæœŸä¸€</td><td>èŠ‚å¥è·‘ï¼š8km é…é€Ÿ 8'50"/km</td></tr>
    <tr><td>5æœˆ27æ—¥</td><td>æ˜ŸæœŸäºŒ</td><td>æ…¢è·‘ï¼š5km</td></tr>
    <tr><td>5æœˆ28æ—¥</td><td>æ˜ŸæœŸä¸‰</td><td>èŠ‚å¥è·‘ï¼š5km æ¨¡æ‹Ÿæ¯”èµ›èŠ‚å¥</td></tr>
    <tr><td>5æœˆ29æ—¥</td><td>æ˜ŸæœŸå››</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ30æ—¥</td><td>æ˜ŸæœŸäº”</td><td class="rest">ä¼‘æ¯</td></tr>
    <tr><td>5æœˆ31æ—¥</td><td>æ˜ŸæœŸå…­</td><td class="race">ğŸ æ¯”èµ›æ—¥ï¼š21.1km åŠé©¬</td></tr>
  </tbody>
</table>
 <script>  
  const parseChineseDate = {
    toDate: (str, mode, year = new Date().getFullYear()) => {
      let m, d, y = year;
      if (mode === "full" && /å¹´/.test(str)) {
        [, y, m, d] = str.match(/(\d+)å¹´(\d+)æœˆ(\d+)æ—¥/) || [];
      } else if (mode === "simple") {
        [, m, d] = str.match(/(\d+)æœˆ(\d+)æ—¥/) || [];
      } else {
        throw new Error("invalid mode");
      }
      if (!m || !d) throw new Error("invalid date format");
      const date = new Date(y, m - 1, d);
      if (isNaN(date)) throw new Error("invalid date");
      return date.getTime();
    }
  };

  const insertDate = (rows) => {
    rows.forEach((row, index) => {
      row.setAttribute('data-date', parseChineseDate.toDate(row.children[0].innerText, 'simple'));
    });
  };

  const flagDone = (rows) => {
    let lastDoneIndex = -1;
    for (let index = 0; index < rows.length; index++) {
      const row = rows[index];
      const row_time = row.getAttribute('data-date');
      const today = new Date().getTime();
      if (row_time <= today) {
        row.classList.add('done');
        lastDoneIndex = index;
      } else {
        break;
      }
    }
    if (lastDoneIndex >= 0) {
      rows[lastDoneIndex].classList.add('last');
    }
  };

  document.addEventListener('DOMContentLoaded', () => {
    const rows = document.querySelectorAll('table tbody tr');
    insertDate(rows);
    flagDone(rows);
  });
 </script>
</body>
</html>
